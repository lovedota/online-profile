define(["durandal/system","knockout"],function(e,t){function n(t){return void 0===t?{applyBindings:!0}:e.isBoolean(t)?{applyBindings:t}:(void 0===t.applyBindings&&(t.applyBindings=!0),t)}function i(i,u,c,d){if(!u||!c)return r.throwOnErrors?e.error(o):e.log(o,u,d),void 0;if(!u.getAttribute)return r.throwOnErrors?e.error(a):e.log(a,u,d),void 0;var f=u.getAttribute("data-view");try{var p;return i&&i.binding&&(p=i.binding(u)),p=n(p),r.binding(d,u,p),p.applyBindings?(e.log("Binding",f,d),t.applyBindings(c,u)):i&&t.utils.domData.set(u,l,{$data:i}),r.bindingComplete(d,u,p),i&&i.bindingComplete&&i.bindingComplete(u),t.utils.domData.set(u,s,p),p}catch(h){h.message=h.message+";\nView: "+f+";\nModuleId: "+e.getModuleId(d),r.throwOnErrors?e.error(h):e.log(h.message)}}var r,o="Insufficient Information to Bind",a="Unexpected View Type",s="durandal-binding-instruction",l="__ko_bindingContext__";return r={binding:e.noop,bindingComplete:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return t.utils.domData.get(e,s)},bindContext:function(e,t,n,r){return n&&e&&(e=e.createChildContext(n,"string"==typeof r?r:null)),i(n,t,e,n||(e?e.$data:null))},bind:function(e,t){return i(e,t,e,e)}}});